
# SQL

## Основы SQL

SQL - язык позволяющий осуществлять запрсосы к БД посредством СУБД. В различных СУБД язык SQL может иметь свою специфичную реализацию (свой диалект).

Подмножество языка SQL:

- DDL (Data Definition Language) - язык для создания и модификации структуры БД с помощью операторов CREATE, ALTER, DROP, TRUNCATE, RENAME.

- DML (Data Manipulation Language) - язык для манипуляции данными в БД с помощью операторов SELECT, INSERT, UPDATE, DELETE.
 
- DCL (Data Control Language) - язык для предоставления и отзыва привилегий пользователя БД с помощью операторов GRANT, DENY, REVOKE. 

- TCL (Transaction Control Language) - язык для контроля и управления транзакциями БД с помощью операторов BEGIN TRANSACTION, COMMIT, ROLLBACK. 

## Основы выборки #1

### Базовый синтаксис

Одна из основных функций SQL - это получение выборок данных из СУБД. Для этого в SQL используется оператор SELECT.

Вывод произвольных значений

    SELECT "Hello world";

Вывод всех данных из таблицы

Для вывода всех данных из таблицы используется символ *

    SELECT * 
    FROM {table_name};

Вывод данных из определенных колонок таблицы 

    SELECT {column_name #1}, {column_name #2} 
    FROM {table_name};

Псевдонимы (алиасы)

Используется оператор AS для присвоения сокращенных имен столбцам или таблицам, улучшает читаемость кода.

    SELECT {column_name #1}, {column_name #2} AS {alias_name} 
    FROM {table_name};

### Литералы в SQL #1.1

Литерал - эот указанное явным образом фиксировоанное значение, например, число 12 или строка "SQL".

Основными типами литералов в MySQL являются:

- строковый;
- числовой;
- логический;
- NULL;
- литерал длаты и времемни.


**Строковые литералы** 

Строка - это последовательность символов, заключенных в одинарные ('') или двойные ("") кавычки.
Строки могут содержать специальные последовательноти символов, начинающиеся с '\' (экранирующий символ).
Они нужны для того, чтобы СУБД придала обычным символам (буквам и другим знакам) новое особое  значение.
Например, последовательность '\n' буквально означает 'перево строки'.

    SELECT "Текстовая строка Текстовая строка" AS String;

    String
    Текстовая строка Текстовая строка

    SELECT "Текстовая строка \n Текстовая строка" AS String;

    String
    Текстовая строка
    Текстовая строка

**Числовые литералы**

Включает в себя целые и дробные числа. Разделительный знак для дробного числа — «.» (точка) - 1, 2.9, 0.01

Может иметь только целую, дробную часть или обе сразу - .2, 1.1, 10

Может быть положительным и отрицательным числом (для положительного числа совсем не обязательно указывать знак) - +1, -10, -2.2

Могут быть представлены в экспоненциальном виде - 1e3 (=1000) 1e-3 (=0.001)

Арифметические операторы

Для числовых литералов в SQL есть все привычные нам арифметические операторы:

| Оператор | Описание | Пример |
| ------------- | ------------- | ------------- |
| %, MOD | Деление по модулю | 11 % 5 = 1 |
| * | Умножение | 10 * 16 = 160 |
| + | Сложение | 98 + 2 = 100 |
| - | Вычитание | 50 - 51 = -1 |
| / | Деление | 1 / 2 = 0.5 |
| DIV | Целочисленное деление | 10 DIV 4 = 2 |

Используя эти операторы можно построить любое арифметическое выражение, применяя стандартные правила арифметики.

Для примера:

    SELECT (5 * 2 - 6) / 2 AS Result;

    Result
    2

**Литералы даты и времени**

Значения даты и времени могут быть представлены в формате строки или числа.
Например, если мы хотим указать какую-то дату в запросе, то мы можем это сделать с помощью строки "1970-12-30", "19701230" или же числа 19701230. В обоих случаях эти значения будут интерпретироваться как дата «30 декабря 1970 года».

Ниже приведён пример использования литерала даты:

    SELECT * FROM FamilyMembers WHERE birthday > '1970-12-30';

Кроме самой даты, мы можем также указывать отдельно время или же всё вместе.

|  | Описание | Пример |
| ------------- | ------------- | ------------- |
| Дата | Интерпретируется как дата со временем, равным нулю | *YYYY-MM-DD, YYYYMMDD*

Вместо разделителя "-" можно использовать любой знак препинания.
 
Например:
'2020-01-01' = 1 января 2020, 00:00:00 |
| Время | Содержит только время без конкретной даты | *hh:mm:ss, hh:mm, hh, ss*

Разделитель тоже можно опустить.

Например:
12:11 = 12:11:00
 |
| Дата и время | Дата с возможностью задать конкретное времяСложение | YYYY-MM-DD hh:mm:ss
YYYYMMDDhhmmss 

Например:
'20200101183030' = 1 января 2020, 18:30:30|

**Логические литералы**

Логический литерал - значения TRUE и FALSE, означающие истинность и ошибочность какого-либо утверждения. При интерпретации запроса, MySQL преобразует их в числа: TRUE и FALSE становятся 1 и 0 соответственно.

**NULL**

Значение NULL означает "нет данных", "нет значения". Оно нужно, чтобы отличать визуально пустые значения, такие как строка нулевой длины или "пробел", от того, когда значения вообще нет, даже пустого.

### Применение функций #1.2
